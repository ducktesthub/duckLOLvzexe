-- ğŸ› ï¸ Load thÆ° viá»‡n GUI
local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Orion/main/source"))()

-- ğŸŒŸ Táº¡o GUI
local Window = OrionLib:MakeWindow({Name = "Blox Fruits Auto Farm", HidePremium = false, SaveConfig = true, ConfigFolder = "OrionTest"})

-- ğŸ“‚ Táº¡o Tab chÃ­nh
local MainTab = Window:MakeTab({Name = "Auto Farm", Icon = "rbxassetid://4483345998", PremiumOnly = false})

-- ğŸ”˜ Biáº¿n Ä‘iá»u khiá»ƒn
_G.AutoFarm = false

-- ğŸš€ Auto Click ÄÃ¡nh QuÃ¡i
function autoClick()
    while _G.AutoFarm do
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Combat", "Melee")
        task.wait(0.2) -- Tá»‘c Ä‘á»™ Ä‘Ã¡nh
    end
end

-- ğŸ›¸ Bay nhanh khÃ´ng rÆ¡i
function flyNoFall()
    local character = game.Players.LocalPlayer.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        local hrp = character.HumanoidRootPart
        game:GetService("RunService").Heartbeat:Connect(function()
            if _G.AutoFarm then
                hrp.Velocity = Vector3.new(0, 50, 0) -- Giá»¯ nhÃ¢n váº­t trÃªn cao
            end
        end)
    end
end

-- ğŸš€ HÃ m dá»‹ch chuyá»ƒn tá»©c thá»i
function teleportTo(position)
    local character = game.Players.LocalPlayer.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        character.HumanoidRootPart.CFrame = CFrame.new(position)
    end
end

-- ğŸ“œ Nháº­n nhiá»‡m vá»¥ tá»± Ä‘á»™ng
function getQuest()
    local player = game.Players.LocalPlayer
    local level = player.Data.Level.Value
    local questNPC = nil
    local questName = nil

    if level < 15 then
        questNPC = "Bandit Quest Giver"
        questName = "Bandit"
    elseif level < 30 then
        questNPC = "Monkey Quest Giver"
        questName = "Monkey"
    elseif level < 50 then
        questNPC = "Gorilla Quest Giver"
        questName = "Gorilla"
    elseif level < 100 then
        questNPC = "Pirate Quest Giver"
        questName = "Pirate"
    else
        print("Cáº¥p Ä‘á»™ chÆ°a há»— trá»£!")
        return
    end

    local questGiver = game.Workspace.NPCs:FindFirstChild(questNPC)
    if questGiver then
        teleportTo(questGiver.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
        task.wait(1)
        game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("StartQuest", questName, 1)
        print("ÄÃ£ nháº­n nhiá»‡m vá»¥: " .. questName)
    end
end

-- ğŸ‘¹ TÃ¬m quÃ¡i gáº§n nháº¥t
function getNearestMob()
    local player = game.Players.LocalPlayer
    local closestMob = nil
    local shortestDistance = math.huge
    for _, mob in pairs(game.Workspace.Enemies:GetChildren()) do
        if mob:FindFirstChild("HumanoidRootPart") and mob:FindFirstChild("Humanoid") and mob.Humanoid.Health > 0 then
            local distance = (mob.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).magnitude
            if distance < shortestDistance then
                shortestDistance = distance
                closestMob = mob
            end
        end
    end
    return closestMob
end

-- âš”ï¸ Táº¥n cÃ´ng quÃ¡i
function attackMob(mob)
    flyNoFall() -- Báº­t bay khÃ´ng rÆ¡i
    while mob and mob:FindFirstChild("Humanoid") and mob.Humanoid.Health > 0 and _G.AutoFarm do
        teleportTo(mob.HumanoidRootPart.Position + Vector3.new(0, 20, 0)) -- Bay trÃªn Ä‘áº§u quÃ¡i
        task.wait(0.1)
    end
end

-- ğŸ† Báº­t/Táº¯t Auto Farm
function startAutoFarm()
    spawn(autoClick) -- Auto click Ä‘Ã¡nh quÃ¡i
    while _G.AutoFarm do
        getQuest()
        local mob = getNearestMob()
        if mob then
            attackMob(mob)
        else
            print("KhÃ´ng tÃ¬m tháº¥y káº» Ä‘á»‹ch, chá» spawn...")
            task.wait(1)
        end
    end
end

-- ğŸ® NÃºt báº­t Auto Farm
MainTab:AddToggle({
    Name = "Auto Farm Level",
    Default = false,
    Callback = function(value)
        _G.AutoFarm = value
        if value then
            startAutoFarm()
        end
    end
})

-- âœ… Káº¿t thÃºc setup GUI
OrionLib:Init()
